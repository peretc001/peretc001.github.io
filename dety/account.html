<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Личный кабинет</title>
  <style>
     body {opacity: 0; overflow-x: hidden; background: #FFF8F8;}
  </style>

<!-- Cart css -->
  <link rel="stylesheet" href="./css/account/account.min.css">
</head>
<body>

<nav class="nav">
  <div class="nav-top">
    <div class="container">
      <div class="nav-top__city">
        <a class="nav-top__city__location" data-toggle="modal" data-target="city" href="#">Санкт-Петербург</a>
        <div class="nav-top__city__location__item">
          <a href="#">Пункты выдачи</a>
          <a href="">Условия доставки</a>
        </div>
      </div>
      <div class="nav-top__right">
        <a class="nav-top__right__phone" href="tel:8-800-600-77-27">8-800-600-77-27</a>
        <span class="nav-top__right__time">(9:00 - 22:00)</span>
        <div class="has-children">
          <a class="nav-top__right__user">Покупателям</a>
          <ul>
            <li><a href="">Проверка заказа</a></li>
            <li><a href="">Доставка и оплата</a></li>
            <li><a href="">Гарантии и возврат</a></li>
            <li><a href="">Покупай со Сбербанком</a></li>
            <li><a href="">Полезные материалы</a></li>
            <li><a href="">Бонусная программа</a></li>
            <li><a href="">Подарочные карты</a></li>
          </ul>
        </div>
        <a class="nav-top__right__login" data-toggle="modal" data-target="login" href="#">Войти</a>
        <a class="nav-top__right__lk" href="/">Гость</a>
      </div>
    </div>
  </div>

  <div class="nav-search">
    <div class="container">
      <div class="hamburger" data-toggle="modal" data-target="menu">
        <span></span>
        <span></span>
        <span></span>
      </div>
      <a href="./" class="brand"></a>
      <form action="/" method="post" class="nav-search__form">
        <input type="text" name="search" value="" placeholder="Поиск по сайту">
      </form>
      <div class="nav-search--right">
        <a href="" class="nav-search--right__wishlist active">
          <!-- <span>2</span> -->
        </a>
        <a href="" class="nav-search--right__cart">
          <!-- <span class="qty">3</span>
          <span class="price">5 750 ₽</span> -->
        </a>
      </div>
    </div>
  </div>

  <div id=app></div>
</nav>
  
<main>
  <div class="breadcrumb">
      <div class="container">
          <a href="./">Главная</a> Личный кабинет
      </div>
  </div>

  <section class="account">
      <div class="container">
          <h1>Личный кабинет</h1>

          <div class="row">
            <div class="left">
              <ul>
                  <li><a href="./account.html" class="active">Мои данные</a></li>
                  <li><a href="./account-orders.html">Мои заказы</a></li>
                  <li><a href="./account-favorite.html">Избранное</a></li>
              </ul>
            </div>

            <div class="right">
              <form action="/" class="account-data">
                <h2>Личные данные</h2>
                <div class="account-data-private">
                  <div class="form-row">
                    <label for="lastname">Фамилия <span>*</span></label>
                    <input type="text" id="lastname" name="lastname" placeholder="" pattern="^[А-Яа-яЁё\s]+$">
                    <span>Введите Фамилию на русском языке</span>
                  </div>
                  <div class="form-row">
                    <label for="firstname">Имя <span>*</span></label>
                    <input type="text" id="firstname" name="firstname" placeholder="" pattern="^[А-Яа-яЁё\s]+$">
                    <span>Введите Имя на русском языке</span>
                  </div>
                  <div class="form-row">
                    <label for="middlename">Отчество</label>
                    <input type="text" id="middlename" name="middlename" placeholder="" pattern="^[А-Яа-яЁё\s]+$">
                    <span>Введите Отчество на русском языке</span>
                  </div>
                  <div class="form-row">
                    <label for="userphone">Телефон <span>*</span></label>
                    <input type="tel" id="userphone" name="userphone" class="phone-mask" pattern="+7\([0-9]{3}\)[0-9]{3}-[0-9]{4}" placeholder="">
                  </div>
                  <div class="form-row">
                    <label for="email">E-mail</label>
                    <input type="text" id="email" name="email" placeholder="" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$">
                    <span>Введите корректный Email</span>
                  </div>
                </div>
                <button type="submit" class="btn btn-accent" disabled>Сохранить</button>
              </form>
              <form action="/" class="account-data">
                <h2>Адрес доставки</h2>
                <div class="account-data-delivery">
                  <div class="adress adress-0 addAdress">
                    <div class="form-row">
                      <label for="city">Город <span>*</span></label>
                      <input type="text" id="city" class="city" name="city" value="Краснодар" pattern="^[А-Яа-яЁё\s]+$" placeholder="">
                      <span>Введите Город на русском языке</span>
                    </div>
                    <div class="form-row">
                      <label for="street">Улица</label>
                      <input type="text" id="street" name="street" pattern="^[А-Яа-яЁё\s]+$" placeholder="">
                      <span>Введите Улицу на русском языке</span>
                    </div>
                    <div class="form-row">
                      <label for="house">Дом</label>
                      <input type="text" id="house" name="house" placeholder="">
                    </div>
                    <div class="form-row">
                      <label for="flat">Квартира</label>
                      <input type="text" id="flat" name="flat" placeholder="">
                    </div>
                    <!-- if ( count == 0 ) -->
                    <div class="new-adress">
                      <span class="add">Добавить ещё адрес</span>
                    </div>
                    <!--  -->
                  </div>                
                </div>
  
                <button type="submit" class="btn btn-accent">Сохранить</button>
              </form>
            </div>

            <div class="right offset">
              <div class="account-bonus">
                <div class="account-bonus-head">
                  <h3>Баллы</h3>
                  <!-- Repeat -->
                  <div class="account-bonus-total__view">
                    <p>500</p>
                    <p>балов доступно</p>
                  </div>
                  <!-- Repeat -->
                </div>
                
                <div class="account-bonus-table">
                  <div class="account-bonus-table__left">
                    <table>
                      <tr class="head">
                        <td>Дата начисления</td>
                        <td>Начислено баллов</td>
                      </tr>
                      <tr>
                        <td>12.03.2020</td>
                        <td>2 000</td>
                      </tr>
                      <tr>
                        <td>11.03.2020</td>
                        <td>2 000</td>
                      </tr>
                      <tr>
                        <td>10.03.2020</td>
                        <td>2 000</td>
                      </tr>
                      <tr>
                        <td>09.03.2020</td>
                        <td>2 000</td>
                      </tr>
                      <tr>
                        <td>08.03.2020</td>
                        <td>2 000</td>
                      </tr>
                    </table>
                  </div>
                  <div class="account-bonus-table__right">
                    <table>
                      <tr  class="head">
                        <td>Дата списания</td>
                        <td>Остаток</td>
                      </tr>
                      <tr>
                        <td>25.03.2020</td>
                        <td>500</td>
                      </tr>
                      <tr>
                        <td>24.03.2020</td>
                        <td>500</td>
                      </tr>
                      <tr>
                        <td>23.03.2020</td>
                        <td>500</td>
                      </tr>
                      <tr>
                        <td>22.03.2020</td>
                        <td>500</td>
                      </tr>
                      <tr>
                        <td>21.03.2020</td>
                        <td>500</td>
                      </tr>
                    </table>
                  </div>
                </div>
  
                <div class="account-bonus-total">
                  <!-- Repeat -->
                  <div class="account-bonus-total__view">
                    <p>500</p>
                    <p>балов доступно</p>
                  </div>
                  <!-- Repeat -->
                </div>
              </div>
            </div>
          </div>

      </div>
  </section>

</main>

<footer>
  <div class="container">

    <div class="email-form">
      <div class="email-form-block">
        <div class="email-form-block__title">
          <img src="./img/email-form/email.svg" alt=" Узнавайте о выгодных  предложениях первыми!">
          <p>Узнавайте о выгодных предложениях первыми!</p>
        </div>
        <form class="email-form-block__form">
          <input type="email" name="email" value="" placeholder="Ваш e-mail" required>
          <button class="btn btn-send">Подписаться</button>
        </form>
      </div>
    </div>

    <div class="row">
      <div class="col-sm-6 col-md-4 col-lg-3">
        <p><b>ВсёДляДеток.ру</b></p>
          <ul>
              <li><a href="">О компании</a></li>
              <li><a href="">Пункты выдачи</a></li>
              <li><a href="">Розничные магазины</a></li>
              <li><a href="">Контакты</a></li>
              <li><a href="">Отзывы</a></li>
          </ul>
      </div>
      <div class="col-sm-6 col-md-4 col-lg-3">
        <p><b>Покупателям</b></p>
          <ul>
            <li><a href="">Проверка заказа</a></li>
            <li><a href="">Гарантии и возврат</a></li>
            <li><a href="">Доставка и оплата</a></li>
            <li><a href="">Полезные материалы</a></li>
            <li><a href="">Покупай со Сбербанком</a></li>
            <li><a href="">Бонусная программа</a></li>
            <li><a href="">Подарочные карты</a></li>
          </ul>
      </div>
      <div class="col-sm-6 col-md-4 col-lg-3">
        <p><b>Обратная связь</b></p>
          <ul>
            <li><a href="">Заказать звонок</a></li>
            <li><a href="">Заявка на возврат</a></li>
            <li><a href="">Заявка на обмен</a></li>
            <li><a href="">Оставить отзыв</a></li>
            <li><a href="">Благодарность</a></li>
            <li><a href="">Пожаловаться</a></li>
          </ul>
      </div>
      <div class="col-sm-6 col-md-4 offset-md-4 col-lg-3 offset-lg-0">
        <p><b>Сообщество </b></p>
        <p>Мы в социальных сетях</p>
        <div class="social">
          <a href=""><img src="./img/social/ok.svg" alt=""></a>
          <a href=""><img src="./img/social/vk.svg" alt=""></a>
          <a href=""><img src="./img/social/insta.svg" alt=""></a>
          <a href=""><img src="./img/social/youtube.svg" alt=""></a>
        </div>
        <p class="policy">
          <a href="">Пользовательское соглашение</a>
          <a href="">Политика конфеденциальности</a>
        </p>
      </div>
    </div>

    <div class="copyright">
      <p><span>© 2019-2020. ВсёДляДеток.ру</span> <span>Большой магазин для маленьких</span></p>
    </div>
  </div>
</footer>

<div class="modal">
  <div class="container">
    <!-- Modal Menu -->
    <div class="modal-body menu" data-modal="menu">
      <span class="close" data-close="close"></span>
      <a href="" class="button login" data-mobile="yes" data-toggle="modal" data-target="login">
        <img src="./img/nav/mobile/login.svg" alt="">
        Вход</a>
      <a href="/" class="button lk hidden">
          <img src="./img/nav/mobile/lk.svg" alt="">
          Гость</a>
      <a href="" class="button city" data-mobile="yes" data-toggle="modal" data-target="city">
        <img src="./img/nav/mobile/location.svg" alt="">
        Санкт-Петербург</a>
      <a href="tel:8-800-600-77-27" class="button phone">
        <img src="./img/nav/mobile/phone.svg" alt="">
        8-800-600-77-27</a>
      <div class="menu-item">
        <p class="hideElem">
          <b>ВсёДляДеток</b>
        </p>
        <ul class="showElem">
          <li><a href="">О компании</a></li>
          <li><a href="">Пункты выдачи</a></li>
          <li><a href="">Розничные магазины</a></li>
          <li><a href="">Контакты</a></li>
          <li><a href="">Отзывы</a></li>
        </ul>
      </div>
      <div class="menu-item">
        <p class="hideElem">
          <b>
            Покупателям
          </b>
        </p>
        <ul class="showElem">
          <li><a href="">Проверка заказа</a></li>
          <li><a href="">Доставка и оплата</a></li>
          <li><a href="">Гарантии и возврат</a></li>
          <li><a href="">Покупай со Сбербанком</a></li>
          <li><a href="">Полезные материалы</a></li>
          <li><a href="">Бонусная программа</a></li>
          <li><a href="">Подарочные карты</a></li>
        </ul>
      </div>
      <div class="menu-item">
        <p class="hideElem">
          <b>
            Обратная связь
          </b>
        </p>
        <ul class="showElem">
          <li><a href="">Заказать звонок</a></li>
          <li><a href="">Заявка на возврат</a></li>
          <li><a href="">Заявка на обмен</a></li>
          <li><a href="">Оставить отзыв</a></li>
          <li><a href="">Благодарность</a></li>
          <li><a href="">Пожаловаться</a></li>
        </ul>
      </div>
      <div class="social">
        <p>
          <b>
            Сообщество
          </b>
        </p>
        <div class="social-link">
          <a href=""><img src="./img/social/ok.svg" alt=""></a>
          <a href=""><img src="./img/social/vk.svg" alt=""></a>
          <a href=""><img src="./img/social/insta.svg" alt=""></a>
          <a href=""><img src="./img/social/youtube.svg" alt=""></a>
        </div>
      </div>
      <div class="menu-email">
        <p>
          <b>
            Подпишись на обновления
          </b>
        </p>
        <form action="/" method="post">
          <input type="email" name="email" value="" placeholder="E-mail" required>
          <button class="btn btn-send">Подписаться</button>
        </form>
      </div>
    </div>
    <!-- Modal City -->
    <div class="modal-body city" data-modal="city">
      <span class="close" data-close="close"></span>
      <p class="modal-body__head">Ваш город:</p>
      <p class="modal-body__city">Санкт-Петербург</p>
      <p class="modal-body__desc">От города зависят условия доставки</p>
      <div class="modal-body__button">
        <button class="btn btn-accent" data-close="close">Да</button>
        <button class="btn btn-outline-accent open-city-list" data-toggle="modal" data-target="city-list">Нет, выбрать другой</button>
      </div>
    </div>
    <!-- Modal City List -->
    <div class="modal-body city-list" data-modal="city-list">
      <span class="close" data-close="close"></span>
      <p><b>Ваш город</b></p>
      <form action="/" method="post" class="">
        <label for="city">Введите название</label>
        <input id="city" type="text" name="city" class="city" placeholder="Название города">
      </form>
    </div>
    <!-- Modal Login -->
    <div class="modal-body login" data-modal="login">
      <span class="close" data-close="close"></span>
      <form action="/" method="post" class="login-form">
        <p><b>Вход или регистрация</b></p>
        <label for="phone">Введите номер телефона</label>
        <input type="tel" id="phone" name="phone" class="phone-mask" autocomplete="off" required>
        <button type="submit" class="btn btn-accent">Получить sms-код</button>
      </form>
      <form action="/" method="post" class="sms-form">
        <p><b>Введите код из смс</b></p>
        <div class="signin-sms__wrap">
          <input class="sms-input" type="tel" name="sms1" maxlength="1" tabindex="1">
          <input class="sms-input" type="tel" name="sms2" maxlength="1" tabindex="2">
          <input class="sms-input" type="tel" name="sms3" maxlength="1" tabindex="3">
          <input class="sms-input" type="tel" name="sms4" maxlength="1" tabindex="4">
        </div>
      </form>
      <div class="complete"><p>Готово</p></div>
    </div>
  </div>
</div>

  <script src="./js/scripts.min.js"></script>
  <script defer src='./js/chunk-vendors.2f6d4ee4.js'></script>
  <script defer src='./js/app.f3f02294.js'></script>
  <link href='./css/app.765216cc.css' rel=stylesheet>
  <link rel="stylesheet" href="./css/main.min.css">

  <script>
    document.addEventListener("DOMContentLoaded", function() {

      const form = document.querySelectorAll('.account-data')
      form.forEach(element => {
        const btn = element.querySelector('button')
        
        btn.disabled = true
        element.addEventListener('change', () => {
          if ( element.querySelector('.account-data-private') && element.querySelectorAll('input')[0].value != '' && element.querySelectorAll('input')[1].value != '' && element.querySelectorAll('input')[3].value != '' ) {
            btn.disabled = false
            element.querySelector('.add.invisible') ? element.querySelector('.add.invisible').classList.remove('invisible') : ''
          }
          else if ( element.querySelectorAll('input')[0].value != '' && !element.querySelector('.account-data-private') ) {
            btn.disabled = false
            element.querySelector('.add.invisible') ? element.querySelector('.add.invisible').classList.remove('invisible') : ''
          } 
          else {
            btn.disabled = true
            element.querySelector('.add.invisible') ? element.querySelector('.add.invisible').classList.add('invisible') : ''
          }
        })
      });

      let getCounter = document.querySelectorAll('.addAdress')
      let counter = getCounter.length - 1
      const addBtn = document.querySelector('.adress.adress-'+ counter + ' .new-adress .add')

      const showAdress = () => {
        document.querySelector('.adress.adress-'+ counter + ' .new-adress .add').removeEventListener('click', addAdreess)
        counter++        

        let div = document.createElement('div');
        div.classList.add('adress')
        div.classList.add('adress-'+ counter)
        div.classList.add('fade')
        div.innerHTML  = `
            <div class="form-row">
              <label for="city">Город <span>*</span></label>
              <input type="text" id="city${counter}" class="city" name="city${counter}" pattern="^[А-Яа-яЁё\s]+$" placeholder="">
              <span>Введите Город на русском языке</span>
            </div>
            <div class="form-row">
              <label for="street">Улица</label>
              <input type="text" id="street${counter}" name="street${counter}" pattern="^[А-Яа-яЁё\s]+$" placeholder="">
              <span>Введите Улицу на русском языке</span>
            </div>
            <div class="form-row">
              <label for="house">Дом</label>
              <input type="text" id="house${counter}" name="house${counter}" placeholder="">
            </div>
            <div class="form-row">
              <label for="flat">Квартира</label>
              <input type="text" id="flat${counter}" name="flat${counter}" placeholder="">
            </div>
            <div class="new-adress">
              <span class="add invisible">Добавить ещё адрес</span>
            </div>
        `
        document.querySelector('.account-data-delivery').append(div)
        setTimeout(() => {
          div.classList.add('open')
        }, 100);
        setTimeout(() => {
          document.querySelector('.adress.adress-'+ (counter-1) + ' .new-adress .add').classList.add('hidden')
        }, 200);

        document.querySelector('.adress.adress-'+ counter + ' .new-adress .add').addEventListener('click', addAdreess)
      }
      
      const addAdreess = (event) => {        
        if ( document.querySelector('.adress.adress-'+ counter + ' .city').value !== '' ) {
          showAdress()
        }
        
      }

      addBtn.addEventListener('click', addAdreess)
    })
  </script>
</body>
</html>


