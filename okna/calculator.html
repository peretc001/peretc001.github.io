<section class="calculate">
   <div class="container-fluid">
     <h3 class="h2_title inverse">Рассчет стоимости онлайн</h3>
     <form action="" class="row calc">

       <div class="col-lg-4">
         <div class="calculate__card">
           <div class="dropdown">
             <button class="btn btn-outline-white dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
               Материал
             </button>
             <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
               <a class="dropdown-item" data-price="1" href="#">Дуб</a>
               <a class="dropdown-item" data-price="2" href="#">Сосна</a>
               <a class="dropdown-item" data-price="3" href="#">Лиственица</a>
             </div>
           </div>
         </div>
         <div class="calculate__card">
           <p>Ширина окна - <span id="width"></span></p>
           <input
             type="range"
             min="1000"
             max="3500"
             step="100"
             value="1000"
             id="range_width">
         </div>
         <div class="calculate__card">
           <p>Высота окна - <span id="height"></span></p>
           <input
             type="range"
             min="1200"
             max="2500"
             step="100"
             value="1200"
             id="range_height">
         </div>
       </div>
       <div class="col-lg-8">
         <div class="calculate__windows first">
           <div class="checked__img">
             <input id="w1" type="radio" class="windowVar" data-price="1" name="window" checked>
             <label for="w1"><img src="/img/calculate/w1.svg" alt=""></label>
           </div>
           <div class="checked__img">
             <input id="w2" type="radio" class="windowVar" data-price="2" name="window">
             <label for="w2"><img src="/img/calculate/w2.svg" alt=""></label>
           </div>
           <div class="checked__img">
             <input id="w3" type="radio" class="windowVar" data-price="3" name="window">
             <label for="w3"><img src="/img/calculate/w3.svg" alt=""></label>
           </div>
         </div>
         <div class="calculate__windows second">
           <div class="checked__img">
             <input id="w4" type="radio" class="windowVar" data-price="4" name="window">
             <label for="w4"><img src="/img/calculate/w4.svg" alt=""></label>
           </div>
           <div class="checked__img">
             <input id="w5" type="radio" class="windowVar" data-price="5" name="window">
             <label for="w5"><img src="/img/calculate/w5.svg" alt=""></label>
           </div>
           <div class="checked__img">
             <input id="w6" type="radio" class="windowVar" data-price="6" name="window">
             <label for="w6"><img src="/img/calculate/w6.svg" alt=""></label>
           </div>
         </div>
         <div class="calculate__windows third">
           <div class="checked__img">
             <input id="w7" type="radio" class="windowVar" data-price="7" name="window">
             <label for="w7"><img src="/img/calculate/w7.svg" alt=""></label>
           </div>
           <div class="checked__img">
             <input id="w8" type="radio" class="windowVar" data-price="8" name="window">
             <label for="w8"><img src="/img/calculate/w8.svg" alt=""></label>
           </div>
           <div class="checked__img">
             <input id="w9" type="radio" class="windowVar" data-price="9" name="window">
             <label for="w9"><img src="/img/calculate/w9.svg" alt=""></label>
           </div>
         </div>
       </div>
       <div class="col-12">
         <p class="total">
           Итого: <span>12.500</span>р
         </p>
       </div>

     </form>
   </div>
 </section>
 <script>
 function price(val1, val2) {
        let basePrice = 1;
        let total = 1;       
        
        
        total *= parseInt(basePrice)*parseInt(val1)*parseInt(val2);
        return total;

    } price(1,1);
    

    let dropDown = document.querySelectorAll('.dropdown-item');
    dropDown.forEach(item => {
        item.addEventListener('click', (e) => {
            val1 = item.getAttribute('data-price');
            val2 = 1;
            console.log(price(val1,val2));
        });
    })

    let windowVar = document.querySelectorAll('.windowVar');
    windowVar.forEach(item => {
        item.addEventListener('click', (e) => {
            val2 = item.getAttribute('data-price');
            val1 = 1;
            console.log(price(val1,val2));
        });
    })
    
    function prettify(num) {
        var n = num.toString();
        return n.replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g, "$1" + '.');
    }

    

    //Range slider
    var rangeWidth      = document.getElementById("range_width");
    var rangeHeight     = document.getElementById("range_height");
    
    var rangeWidthOut   = document.getElementById("width");
    var rangeHeightOut  = document.getElementById("height");

    rangeWidthOut.innerHTML = prettify(rangeWidth.value) + ' мм';
    rangeWidth.oninput = function() {
        rangeWidthOut.innerHTML = prettify(this.value) + ' мм';
        price(this.value);
    }
    rangeHeightOut.innerHTML = prettify(rangeHeight.value) + ' мм';
    rangeHeight.oninput = function() {
        rangeHeightOut.innerHTML = prettify(this.value) + ' мм';
        price(this.value);
    }

    //Вставляем значение селекта в селект :)
    let selected = document.querySelectorAll('.dropdown-item');
    //Если есть на странице boorstrab selectы
    if(selected) {
	//Перебираем все
	selected.forEach(item => {
		//Вещаем клик
		item.addEventListener('click', (e) => {
            e.preventDefault();
			//Определяем родительский блок > первую ссылку
			let block = item.closest(".dropdown").children[0];
			//Вставляем занчение в нее
            block.innerHTML = item.textContent;
		})
		//Вуаля бля -- магия
    })
  }
 </script>